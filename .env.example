# Telegram Bot token (BotFather)
BOT_TOKEN=PASTE_YOUR_TELEGRAM_BOT_TOKEN_HERE

# MongoDB connection string (Atlas yoki local)
MONGODB_URI=mongodb://127.0.0.1:27017/quiz_uz

# Comma-separated Telegram numeric IDs (superadmins).
# Bot ishga tushganda DB'ga superadmin sifatida seed qilinadi.
ADMIN_IDS=

# Logging
LOG_LEVEL=info

# Mongo tuning (ixtiyoriy)
MONGO_MAX_POOL_SIZE=20
MONGO_SERVER_SELECTION_TIMEOUT_MS=10000

# Majburiy kanal tekshiruv cache TTL (ms). High-loadda getChatMember chaqiruvlarini kamaytiradi.
SUB_CHECK_TTL_MS=120000

# Bot handler timeout (ixtiyoriy)
BOT_HANDLER_TIMEOUT_MS=8000

# Anti-flood rate limit (per instance)
RATE_LIMIT_PER_SEC=3
RATE_LIMIT_BURST=10

# /my_results limit
MY_RESULTS_LIMIT=10

# Quiz timer (0 = oâ€˜chiq)
QUESTION_TIME_SEC=0

# Broadcast tuning (superadmin-only /broadcast)
# Run mode:
# - worker: /broadcast faqat job'ni DB'ga queued qilib yozadi, yuborishni worker process bajaradi (tavsiya).
# - inline: /broadcast bot process ichida darhol yuboradi (dev/debug uchun).
BROADCAST_RUN_MODE=worker

BROADCAST_BATCH_SIZE=25
BROADCAST_CONCURRENCY=3
BROADCAST_DELAY_MS=35
BROADCAST_MAX_RETRIES=2
BROADCAST_PROGRESS_EVERY=250
BROADCAST_CANCEL_CHECK_EVERY=500

# Broadcast worker loop
WORKER_POLL_INTERVAL_MS=2000
WORKER_LOCK_TIMEOUT_MS=600000

# Webhook (production/high-load uchun tavsiya)
# Agar WEBHOOK_DOMAIN berilsa bot webhook rejimida ishlaydi.
# WEBHOOK_DOMAIN=https://your-domain.com
# WEBHOOK_PATH=/telegraf
# PORT=3000

# Optional health/metrics server
HEALTH_PORT=0

